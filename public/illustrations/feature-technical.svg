<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 500" fill="none">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f0f9ff"/>
      <stop offset="100%" style="stop-color:#e0f2fe"/>
    </linearGradient>

    <linearGradient id="blueMain" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#2563eb"/>
    </linearGradient>

    <linearGradient id="blueSide" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#60a5fa"/>
      <stop offset="100%" style="stop-color:#3b82f6"/>
    </linearGradient>

    <linearGradient id="yellowHelmet" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fbbf24"/>
      <stop offset="100%" style="stop-color:#f59e0b"/>
    </linearGradient>

    <linearGradient id="panelGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f3f4f6"/>
      <stop offset="100%" style="stop-color:#e5e7eb"/>
    </linearGradient>

    <filter id="glow" x="-30%" y="-30%" width="160%" height="160%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="5" stdDeviation="4" flood-color="#1e3a5f" flood-opacity="0.12"/>
    </filter>
  </defs>

  <!-- 背景 -->
  <rect width="400" height="500" rx="20" fill="url(#bgGrad)"/>

  <!-- グリッドライン（薄く） -->
  <g stroke="#93c5fd" stroke-width="0.5" opacity="0.3">
    <line x1="0" y1="250" x2="400" y2="350"/>
    <line x1="0" y1="300" x2="400" y2="400"/>
    <line x1="100" y1="500" x2="200" y2="0"/>
    <line x1="200" y1="500" x2="300" y2="0"/>
  </g>

  <!-- 大型分電盤（アイソメトリック） -->
  <g transform="translate(80, 120)" filter="url(#shadow)">
    <!-- 盤の左面 -->
    <polygon points="0,80 0,280 100,330 100,130" fill="#d1d5db"/>
    <!-- 盤の上面 -->
    <polygon points="0,80 100,130 200,80 100,30" fill="#f9fafb"/>
    <!-- 盤の前面 -->
    <polygon points="100,130 200,80 200,280 100,330" fill="url(#panelGrad)"/>

    <!-- 盤内部のブレーカー群 -->
    <g transform="translate(110, 100)">
      <!-- メインブレーカー -->
      <rect x="10" y="10" width="35" height="50" rx="3" fill="url(#blueMain)"/>
      <rect x="50" y="10" width="35" height="50" rx="3" fill="url(#blueMain)"/>
      <!-- サブブレーカー -->
      <rect x="10" y="70" width="25" height="35" rx="2" fill="url(#blueSide)"/>
      <rect x="40" y="70" width="25" height="35" rx="2" fill="url(#blueSide)"/>
      <rect x="70" y="70" width="25" height="35" rx="2" fill="url(#blueSide)"/>
      <rect x="10" y="115" width="25" height="35" rx="2" fill="url(#blueSide)"/>
      <rect x="40" y="115" width="25" height="35" rx="2" fill="url(#blueSide)"/>
      <rect x="70" y="115" width="25" height="35" rx="2" fill="url(#blueSide)"/>
      <!-- インジケーターランプ -->
      <circle cx="22" cy="165" r="6" fill="#22c55e" filter="url(#glow)"/>
      <circle cx="52" cy="165" r="6" fill="#22c55e" filter="url(#glow)"/>
      <circle cx="82" cy="165" r="6" fill="#22c55e" filter="url(#glow)"/>
    </g>

    <!-- 配線（整理された状態） -->
    <g stroke="#3b82f6" stroke-width="4" fill="none" stroke-linecap="round">
      <path d="M120,290 L120,340 Q130,360 150,360"/>
      <path d="M150,290 L150,350 Q160,370 180,370"/>
      <path d="M180,290 L180,360 Q190,380 210,380"/>
    </g>
  </g>

  <!-- 作業員（分電盤を点検中） -->
  <g transform="translate(240, 220)" filter="url(#shadow)">
    <!-- ヘルメット -->
    <ellipse cx="40" cy="25" rx="28" ry="22" fill="url(#yellowHelmet)"/>
    <ellipse cx="40" cy="32" rx="25" ry="12" fill="#f59e0b"/>
    <path d="M15,32 Q40,45 65,32" stroke="#d97706" stroke-width="3" fill="none"/>

    <!-- 顔（真剣な表情） -->
    <ellipse cx="40" cy="45" rx="15" ry="12" fill="#fcd9bd"/>
    <!-- 目 -->
    <ellipse cx="35" cy="43" rx="3" ry="3" fill="#1e3a5f"/>
    <ellipse cx="45" cy="43" rx="3" ry="3" fill="#1e3a5f"/>
    <!-- 眉（真剣） -->
    <line x1="32" y1="38" x2="38" y2="40" stroke="#6b7280" stroke-width="2"/>
    <line x1="42" y1="40" x2="48" y2="38" stroke="#6b7280" stroke-width="2"/>
    <!-- 口 -->
    <line x1="36" y1="52" x2="44" y2="52" stroke="#c9826b" stroke-width="2"/>

    <!-- 体（作業着） -->
    <rect x="20" y="60" width="40" height="60" rx="6" fill="url(#blueMain)"/>
    <!-- 反射ベスト -->
    <rect x="20" y="68" width="40" height="5" fill="#fbbf24"/>
    <rect x="20" y="90" width="40" height="5" fill="#fbbf24"/>

    <!-- 腕（点検中のポーズ） -->
    <rect x="8" y="62" width="14" height="40" rx="5" fill="url(#blueSide)"/>
    <rect x="58" y="62" width="14" height="45" rx="5" fill="url(#blueSide)" transform="rotate(15, 65, 62)"/>
    <!-- 手 -->
    <ellipse cx="15" cy="105" rx="8" ry="6" fill="#fcd9bd"/>
    <ellipse cx="75" cy="100" rx="8" ry="6" fill="#fcd9bd"/>

    <!-- 検電器（手に持っている） -->
    <rect x="70" y="85" width="5" height="30" rx="1" fill="#f59e0b"/>
    <polygon points="72.5,115 68,125 77,125" fill="#6b7280"/>
    <circle cx="72.5" cy="82" r="4" fill="#22c55e" filter="url(#glow)">
      <animate attributeName="opacity" values="1;0.3;1" dur="1s" repeatCount="indefinite"/>
    </circle>

    <!-- 足 -->
    <rect x="25" y="120" width="12" height="35" rx="4" fill="#374151"/>
    <rect x="43" y="120" width="12" height="35" rx="4" fill="#374151"/>
    <!-- 安全靴 -->
    <ellipse cx="31" cy="158" rx="10" ry="6" fill="#1f2937"/>
    <ellipse cx="49" cy="158" rx="10" ry="6" fill="#1f2937"/>
  </g>

  <!-- 電気の流れを表現する光のライン -->
  <g filter="url(#glow)">
    <circle cx="180" cy="380" r="5" fill="#60a5fa">
      <animate attributeName="cy" values="380;400;380" dur="2s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="1;0.4;1" dur="2s" repeatCount="indefinite"/>
    </circle>
    <circle cx="210" cy="390" r="4" fill="#fbbf24">
      <animate attributeName="cy" values="390;410;390" dur="1.5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.8;0.3;0.8" dur="1.5s" repeatCount="indefinite"/>
    </circle>
  </g>

  <!-- 稲妻アイコン -->
  <g transform="translate(300, 100)" filter="url(#glow)">
    <polygon points="15,0 0,25 12,25 8,45 30,18 18,18 22,0" fill="#fbbf24" opacity="0.8">
      <animate attributeName="opacity" values="0.8;0.4;0.8" dur="2s" repeatCount="indefinite"/>
    </polygon>
  </g>
</svg>