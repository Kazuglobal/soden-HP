<header #headerEl
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-500"
  [class.header-scrolled]="isScrolled()">
  <div class="mx-auto px-6 lg:px-12">
    <div class="header-inner flex items-center justify-between h-24 transition-all duration-500">
      <!-- Logo -->
      <a href="/" class="header-logo flex items-center space-x-4 group">
        <div class="relative h-10 w-10 flex items-center justify-center">
          <img src="/logo.png" alt="創電工業" class="logo-img h-9 w-auto" />
        </div>
        <div class="hidden sm:flex flex-col">
          <span class="text-lg font-medium tracking-[0.2em] text-gray-900" style="font-family: 'Noto Serif JP', serif;">創電工業</span>
        </div>
      </a>

      <!-- Desktop Navigation -->
      <nav class="hidden lg:flex items-center">
        <ul class="flex items-center space-x-12">
          @for (link of navLinks; track link.label) {
            <li class="nav-item relative group">
              <a href="{{ link.href }}" class="nav-link text-[13px] font-medium tracking-[0.15em] uppercase text-gray-600 hover:text-gray-900 transition-colors duration-300">{{ link.label }}</a>
              @if (link.dropdown) {
                <ul class="dropdown-menu absolute left-0 top-full pt-6 w-48 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300">
                  <div class="bg-white shadow-xl rounded-sm py-3">
                    @for (item of link.dropdown; track item.label) {
                      <li>
                        <a href="{{ item.href }}" class="block px-6 py-2 text-[13px] text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-colors duration-200">{{ item.label }}</a>
                      </li>
                    }
                  </div>
                </ul>
              }
            </li>
          }
        </ul>
        <div class="ml-16 flex items-center space-x-6">
          <a href="#contact" class="text-[13px] font-medium tracking-[0.15em] uppercase text-gray-900 border-b border-gray-900 pb-1 hover:border-green-600 hover:text-green-600 transition-colors duration-300">
            Contact
          </a>
        </div>
      </nav>

      <!-- Mobile Menu Button -->
      <button (click)="toggleMenu()" class="lg:hidden w-10 h-10 flex flex-col items-center justify-center space-y-1.5">
        <span class="w-6 h-[1.5px] bg-gray-900 transition-all duration-300" [class.rotate-45]="isMenuOpen()" [class.translate-y-[5px]]="isMenuOpen()"></span>
        <span class="w-6 h-[1.5px] bg-gray-900 transition-all duration-300" [class.opacity-0]="isMenuOpen()"></span>
        <span class="w-6 h-[1.5px] bg-gray-900 transition-all duration-300" [class.-rotate-45]="isMenuOpen()" [class.-translate-y-[5px]]="isMenuOpen()"></span>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  @if (isMenuOpen()) {
    <div class="lg:hidden fixed inset-0 top-24 bg-white">
      <div class="px-6 py-12">
        <ul class="space-y-8">
          @for (link of navLinks; track link.label; let i = $index) {
            <li class="overflow-hidden">
              <a href="{{ link.href }}"
                class="block text-2xl font-light text-gray-900 tracking-wider"
                [style.animation-delay]="(i * 0.1) + 's'">
                {{ link.label }}
              </a>
            </li>
          }
        </ul>
        <div class="mt-16 pt-8 border-t border-gray-100">
          <a href="#contact" class="inline-block text-sm font-medium tracking-[0.2em] uppercase text-gray-900 border-b border-gray-900 pb-1">
            Contact Us
          </a>
        </div>
      </div>
    </div>
  }
</header>
