<div class="bg-gray-50 min-h-screen font-sans">
    <!-- Hero Section -->
    <section class="relative h-[500px] md:h-[600px] overflow-hidden">
        <img src="/images/recruit_hero_bright.png" alt="Recruit Hero"
            class="absolute inset-0 w-full h-full object-cover">

        <!-- Curved White Overlay ("Recruit" Title Area) -->
        <div
            class="absolute bottom-0 left-0 w-full md:w-2/3 h-48 md:h-64 bg-white rounded-tr-[100px] md:rounded-tr-[150px] z-10 flex flex-col justify-center pl-8 md:pl-20 pr-10">
            <h1 class="text-5xl md:text-7xl font-bold text-[#008ba8] tracking-widest mb-2"
                style="font-family: 'Futura', sans-serif;">RECRUIT</h1>
            <p class="text-xl md:text-2xl font-bold text-gray-800 tracking-wider">採用情報</p>
        </div>

        <!-- Breadcrumb / Navigation -->
        <div
            class="absolute bottom-4 right-4 md:bottom-8 md:right-12 z-20 text-white text-sm md:text-base font-medium drop-shadow-md">
            <a href="/" class="hover:underline">ホーム</a> &gt; <span class="opacity-80">採用情報</span>
        </div>
    </section>

    <!-- Introduction Message (Optional placeholder based on flow) -->
    <section class="py-20 container mx-auto px-4 max-w-4xl text-center">
        <h2 class="text-3xl md:text-4xl font-black text-[#1e3a5f] mb-8" style="font-family: 'Noto Serif JP', serif;">
            共に未来を創る仲間へ
        </h2>
        <p class="text-gray-600 leading-loose text-lg">
            創電工業では、社員一人ひとりがプロフェッショナルとして、<br class="hidden md:inline">
            地域のインフラを支え、未来を創造しています。<br>
            先輩社員たちの声を通して、私たちの仕事の魅力をお伝えします。
        </p>
    </section>

    <!-- Employee Interviews Section -->
    <section class="pb-24 container mx-auto px-4 max-w-6xl space-y-32">

        @for (employee of employees; track employee.id) {
        <!-- Interview Card -->
        <div class="relative group" appGsapAnimate [animation]="'fadeUp'">
            <!-- Header / Badge -->
            <div class="mb-6 flex items-baseline gap-4">
                <span class="bg-[#009fb7] text-white text-sm font-bold px-4 py-1 rounded-full tracking-widest">
                    先 輩 社 員 イ ン タ ビ ュ ー
                </span>
                <span class="text-6xl md:text-8xl font-black text-[#e0e7ec] leading-none select-none relative z-0"
                    style="font-family: 'Futura', sans-serif;">
                    0{{ employee.id }}
                </span>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-start relative z-10">

                <!-- Left: Phrase & Description -->
                <div class="lg:col-span-5 order-2 lg:order-1 pt-8">
                    <!-- Diagonal Blue Title Box -->
                    <div
                        class="bg-[#0c1c2d] text-white p-6 md:p-8 -ml-4 md:-ml-8 shadow-xl relative z-20 mb-8 transform -skew-x-2">
                        <h3 class="text-xl md:text-2xl font-bold leading-relaxed skew-x-2"
                            [innerHTML]="employee.catchphrase">
                        </h3>
                    </div>

                    <div class="pl-2">
                        <h4 class="text-lg font-bold text-[#009fb7] mb-2 uppercase tracking-wider">Interview.0{{
                            employee.id }}</h4>
                        <div class="text-3xl font-black text-gray-800 mb-1"
                            style="font-family: 'Noto Serif JP', serif;">
                            {{ employee.name }}
                        </div>
                        <div class="text-sm font-bold text-gray-400 mb-6 uppercase tracking-widest">
                            {{ employee.nameEn }}
                        </div>

                        <dl class="space-y-3 text-sm text-gray-600 border-t border-gray-200 pt-6">
                            <div class="flex gap-4">
                                <dt class="min-w-[5em] font-bold text-gray-800">保有資格</dt>
                                <dd>{{ employee.role }}</dd>
                            </div>
                            <div class="flex gap-4">
                                <dt class="min-w-[5em] font-bold text-gray-800">入社</dt>
                                <dd>{{ employee.joined }}</dd>
                            </div>
                            <div class="flex gap-4">
                                <dt class="min-w-[5em] font-bold text-gray-800">出身校</dt>
                                <dd>{{ employee.school }}</dd>
                            </div>
                            <div class="flex gap-4">
                                <dt class="min-w-[5em] font-bold text-gray-800">趣味</dt>
                                <dd>{{ employee.hobby }}</dd>
                            </div>
                            <div class="flex gap-4">
                                <dt class="min-w-[5em] font-bold text-gray-800">血液型</dt>
                                <dd>{{ employee.bloodType }}</dd>
                            </div>
                        </dl>
                    </div>
                </div>

                <!-- Right: Image -->
                <div class="lg:col-span-7 order-1 lg:order-2 relative">
                    <!-- Background Decoration -->
                    <div class="absolute -top-10 -right-10 w-3/4 h-full bg-blue-50/50 rounded-3xl -z-10"></div>

                    <div
                        class="rounded-2xl overflow-hidden shadow-2xl relative aspect-[4/3] group-hover:shadow-[0_20px_50px_rgba(0,159,183,0.3)] transition-shadow duration-500">
                        <img [src]="employee.image" [alt]="employee.name"
                            class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700">

                        <!-- Name Overlay on Image (Mobile) -->
                        <div
                            class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/70 to-transparent p-6 lg:hidden">
                            <p class="text-white font-bold text-xl">{{ employee.nameEn }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Q&A Section -->
            <div class="mt-12 bg-white rounded-xl shadow-lg p-8 md:p-12 border border-gray-100">
                <div class="space-y-10">
                    <!-- Q1 -->
                    <div>
                        <div class="flex items-center gap-3 mb-3 text-[#009fb7]">
                            <span
                                class="text-lg font-black bg-blue-50 w-8 h-8 flex items-center justify-center rounded-full">Q</span>
                            <span class="font-bold">仕事内容</span>
                        </div>
                        <p class="text-gray-700 leading-relaxed pl-11 text-base md:text-lg">
                            {{ employee.workDescription }}
                        </p>
                    </div>

                    <!-- Q2 -->
                    <div>
                        <div class="flex items-center gap-3 mb-3 text-[#009fb7]">
                            <span
                                class="text-lg font-black bg-blue-50 w-8 h-8 flex items-center justify-center rounded-full">Q</span>
                            <span class="font-bold">仕事のやりがい</span>
                        </div>
                        <p class="text-gray-700 leading-relaxed pl-11 text-base md:text-lg">
                            {{ employee.rewarding }}
                        </p>
                    </div>
                </div>
            </div>
        </div>
        }

    </section>

    <!-- Call to Action Footer -->
    <section class="bg-[#1e3a5f] py-20 text-center text-white relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-400 to-teal-400"></div>
        <div class="container mx-auto px-4 relative z-10">
            <h2 class="text-3xl md:text-4xl font-bold mb-6">私たちと一緒に働きませんか？</h2>
            <p class="mb-10 text-blue-200">創電工業では、やる気のある新しい仲間を募集しています。</p>
            <button (click)="toggleEntryForm()"
                class="inline-block bg-gradient-to-r from-[#009fb7] to-[#008ba8] text-white font-bold py-4 px-12 rounded-full shadow-lg hover:shadow-cyan-400/50 hover:-translate-y-1 transition-all duration-300 tracking-wider cursor-pointer">
                ENTRY
            </button>
        </div>
    </section>

    <!-- Entry Form Section -->
    <section *ngIf="showEntryForm" class="py-16 sm:py-24 bg-gradient-to-b from-slate-100 to-white relative overflow-hidden animate-fade-in">
        <!-- Background Pattern -->
        <div class="absolute inset-0 z-0 pointer-events-none overflow-hidden">
            <div class="absolute inset-0 flex items-center justify-center opacity-20 mix-blend-multiply">
                <img src="/images/soden_roadmap.png" alt="Soden Technical Roadmap"
                    class="w-full h-auto min-h-full object-cover lg:object-contain scale-110">
            </div>
        </div>

        <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <!-- Header -->
            <div class="text-center mb-12">
                <div appGsapAnimate [animation]="'fadeUp'" [delay]="0.1" class="mb-6">
                    <p class="text-amber-500 text-5xl md:text-6xl italic" style="font-family: 'Caveat', cursive;">
                        Entry Form
                    </p>
                    <div class="w-24 h-1 bg-gradient-to-r from-amber-400 to-amber-600 mt-3 mx-auto rounded-full"></div>
                </div>
                <h2 appGsapAnimate [animation]="'fadeUp'" [delay]="0.2"
                    class="text-3xl md:text-4xl lg:text-5xl font-bold text-[#0c1c2d] tracking-tight mb-4"
                    style="font-family: 'Noto Serif JP', serif;">
                    採用エントリーフォーム
                </h2>
                <p appGsapAnimate [animation]="'fadeUp'" [delay]="0.3"
                    class="text-slate-600 text-base md:text-lg leading-relaxed max-w-2xl mx-auto">
                    ご興味をお持ちいただきありがとうございます。<br class="hidden sm:inline">
                    以下のフォームに必要事項をご記入の上、送信してください。
                </p>
            </div>

            <!-- Form Card -->
            <div class="max-w-3xl mx-auto bg-white rounded-3xl shadow-2xl overflow-hidden">
                <!-- Card Header -->
                <div class="bg-gradient-to-r from-[#0c1c2d] to-[#1e3a5f] py-6 px-6 sm:px-12">
                    <div class="flex justify-between items-center">
                        <h3 class="text-xl sm:text-2xl font-bold text-white" style="font-family: 'Noto Serif JP', serif;">
                            応募フォーム
                        </h3>
                        <button (click)="toggleEntryForm()" class="text-white/70 hover:text-white transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="p-8 sm:p-12">
                    <!-- Success Message -->
                    <div *ngIf="entrySubmitStatus === 'success'"
                        class="mb-8 p-8 bg-green-50 border border-green-200 rounded-2xl text-center">
                        <div class="text-green-600 text-6xl mb-4">✓</div>
                        <h3 class="text-2xl font-bold text-green-800 mb-3">エントリー完了</h3>
                        <p class="text-green-700 leading-relaxed">
                            エントリーありがとうございます。<br>
                            担当者より折り返しご連絡いたします。
                        </p>
                        <button (click)="resetEntryStatus()"
                            class="mt-6 text-green-600 underline hover:text-green-800 font-medium">
                            新しいエントリーを送信する
                        </button>
                    </div>

                    <!-- Error Message -->
                    <div *ngIf="entrySubmitStatus === 'error'"
                        class="mb-8 p-6 bg-red-50 border border-red-200 rounded-2xl">
                        <div class="flex items-center mb-2">
                            <span class="text-red-600 text-2xl mr-2">⚠</span>
                            <h3 class="text-lg font-bold text-red-800">送信エラー</h3>
                        </div>
                        <p class="text-red-700">{{ entryErrorMessage }}</p>
                        <button (click)="resetEntryStatus()" class="mt-4 text-red-600 underline hover:text-red-800">
                            再度送信する
                        </button>
                    </div>

                    <!-- Form -->
                    <form *ngIf="entrySubmitStatus !== 'success'" [formGroup]="entryForm" (ngSubmit)="onEntrySubmit()"
                        class="space-y-8">

                        <!-- Section: 基本情報 -->
                        <div>
                            <h4 class="text-lg font-bold text-[#0c1c2d] mb-6 flex items-center">
                                <span class="w-2 h-6 bg-amber-500 mr-3 rounded-full"></span>
                                基本情報
                            </h4>

                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <!-- Name -->
                                <div>
                                    <label for="entry-name-details" class="block text-sm font-bold text-gray-700 mb-2">
                                        お名前 <span class="text-red-500">*</span>
                                    </label>
                                    <input type="text" id="entry-name-details" formControlName="name"
                                        class="w-full px-4 py-3 rounded-lg bg-slate-50 border border-gray-200 focus:border-amber-500 focus:bg-white focus:ring-2 focus:ring-amber-200 transition duration-200 outline-none"
                                        [ngClass]="{'border-red-500': entryForm.get('name')?.invalid && entryForm.get('name')?.touched}"
                                        placeholder="山田 太郎">
                                    <p *ngIf="entryForm.get('name')?.invalid && entryForm.get('name')?.touched"
                                        class="text-red-500 text-xs mt-1">お名前を入力してください。</p>
                                </div>

                                <!-- Furigana -->
                                <div>
                                    <label for="entry-furigana-details" class="block text-sm font-bold text-gray-700 mb-2">
                                        フリガナ <span class="text-red-500">*</span>
                                    </label>
                                    <input type="text" id="entry-furigana-details" formControlName="furigana"
                                        class="w-full px-4 py-3 rounded-lg bg-slate-50 border border-gray-200 focus:border-amber-500 focus:bg-white focus:ring-2 focus:ring-amber-200 transition duration-200 outline-none"
                                        [ngClass]="{'border-red-500': entryForm.get('furigana')?.invalid && entryForm.get('furigana')?.touched}"
                                        placeholder="ヤマダ タロウ">
                                    <p *ngIf="entryForm.get('furigana')?.invalid && entryForm.get('furigana')?.touched"
                                        class="text-red-500 text-xs mt-1">フリガナを入力してください。</p>
                                </div>

                                <!-- Email -->
                                <div>
                                    <label for="entry-email-details" class="block text-sm font-bold text-gray-700 mb-2">
                                        メールアドレス <span class="text-red-500">*</span>
                                    </label>
                                    <input type="email" id="entry-email-details" formControlName="email"
                                        class="w-full px-4 py-3 rounded-lg bg-slate-50 border border-gray-200 focus:border-amber-500 focus:bg-white focus:ring-2 focus:ring-amber-200 transition duration-200 outline-none"
                                        [ngClass]="{'border-red-500': entryForm.get('email')?.invalid && entryForm.get('email')?.touched}"
                                        placeholder="example@email.com">
                                    <p *ngIf="entryForm.get('email')?.invalid && entryForm.get('email')?.touched"
                                        class="text-red-500 text-xs mt-1">有効なメールアドレスを入力してください。</p>
                                </div>

                                <!-- Phone -->
                                <div>
                                    <label for="entry-phone-details" class="block text-sm font-bold text-gray-700 mb-2">
                                        電話番号 <span class="text-red-500">*</span>
                                    </label>
                                    <input type="tel" id="entry-phone-details" formControlName="phone"
                                        class="w-full px-4 py-3 rounded-lg bg-slate-50 border border-gray-200 focus:border-amber-500 focus:bg-white focus:ring-2 focus:ring-amber-200 transition duration-200 outline-none"
                                        [ngClass]="{'border-red-500': entryForm.get('phone')?.invalid && entryForm.get('phone')?.touched}"
                                        placeholder="090-1234-5678">
                                    <p *ngIf="entryForm.get('phone')?.invalid && entryForm.get('phone')?.touched"
                                        class="text-red-500 text-xs mt-1">電話番号を入力してください。</p>
                                </div>

                                <!-- Age -->
                                <div>
                                    <label for="entry-age-details" class="block text-sm font-bold text-gray-700 mb-2">
                                        年齢 <span class="text-red-500">*</span>
                                    </label>
                                    <input type="number" id="entry-age-details" formControlName="age" min="18"
                                        class="w-full px-4 py-3 rounded-lg bg-slate-50 border border-gray-200 focus:border-amber-500 focus:bg-white focus:ring-2 focus:ring-amber-200 transition duration-200 outline-none"
                                        [ngClass]="{'border-red-500': entryForm.get('age')?.invalid && entryForm.get('age')?.touched}"
                                        placeholder="25">
                                    <p *ngIf="entryForm.get('age')?.invalid && entryForm.get('age')?.touched"
                                        class="text-red-500 text-xs mt-1">18歳以上の年齢を入力してください。</p>
                                </div>
                            </div>
                        </div>

                        <!-- Section: 経歴情報 -->
                        <div>
                            <h4 class="text-lg font-bold text-[#0c1c2d] mb-6 flex items-center">
                                <span class="w-2 h-6 bg-amber-500 mr-3 rounded-full"></span>
                                経歴情報
                            </h4>

                            <div class="space-y-6">
                                <!-- Education -->
                                <div>
                                    <label for="entry-education-details" class="block text-sm font-bold text-gray-700 mb-2">
                                        最終学歴
                                    </label>
                                    <input type="text" id="entry-education-details" formControlName="education"
                                        class="w-full px-4 py-3 rounded-lg bg-slate-50 border border-gray-200 focus:border-amber-500 focus:bg-white focus:ring-2 focus:ring-amber-200 transition duration-200 outline-none"
                                        placeholder="〇〇高等学校 卒業 / 〇〇大学 〇〇学部 卒業">
                                </div>

                                <!-- Work History -->
                                <div>
                                    <label for="entry-workHistory-details" class="block text-sm font-bold text-gray-700 mb-2">
                                        職歴
                                    </label>
                                    <textarea id="entry-workHistory-details" formControlName="workHistory" rows="3"
                                        class="w-full px-4 py-3 rounded-lg bg-slate-50 border border-gray-200 focus:border-amber-500 focus:bg-white focus:ring-2 focus:ring-amber-200 transition duration-200 outline-none resize-none"
                                        placeholder="これまでの職務経験をご記入ください（未経験の方は「なし」とご記入ください）"></textarea>
                                </div>

                                <!-- Qualifications -->
                                <div>
                                    <label for="entry-qualifications-details" class="block text-sm font-bold text-gray-700 mb-2">
                                        保有資格
                                    </label>
                                    <input type="text" id="entry-qualifications-details" formControlName="qualifications"
                                        class="w-full px-4 py-3 rounded-lg bg-slate-50 border border-gray-200 focus:border-amber-500 focus:bg-white focus:ring-2 focus:ring-amber-200 transition duration-200 outline-none"
                                        placeholder="第二種電気工事士、普通自動車免許など">
                                </div>
                            </div>
                        </div>

                        <!-- Section: 応募情報 -->
                        <div>
                            <h4 class="text-lg font-bold text-[#0c1c2d] mb-6 flex items-center">
                                <span class="w-2 h-6 bg-amber-500 mr-3 rounded-full"></span>
                                応募情報
                            </h4>

                            <div class="space-y-6">
                                <!-- Start Date -->
                                <div>
                                    <label for="entry-startDate-details" class="block text-sm font-bold text-gray-700 mb-2">
                                        希望勤務開始日
                                    </label>
                                    <input type="date" id="entry-startDate-details" formControlName="startDate"
                                        class="w-full px-4 py-3 rounded-lg bg-slate-50 border border-gray-200 focus:border-amber-500 focus:bg-white focus:ring-2 focus:ring-amber-200 transition duration-200 outline-none">
                                </div>

                                <!-- Motivation -->
                                <div>
                                    <label for="entry-motivation-details" class="block text-sm font-bold text-gray-700 mb-2">
                                        志望動機・自己PR <span class="text-red-500">*</span>
                                    </label>
                                    <textarea id="entry-motivation-details" formControlName="motivation" rows="5"
                                        class="w-full px-4 py-3 rounded-lg bg-slate-50 border border-gray-200 focus:border-amber-500 focus:bg-white focus:ring-2 focus:ring-amber-200 transition duration-200 outline-none resize-none"
                                        [ngClass]="{'border-red-500': entryForm.get('motivation')?.invalid && entryForm.get('motivation')?.touched}"
                                        placeholder="志望動機や自己PRをご自由にご記入ください"></textarea>
                                    <p *ngIf="entryForm.get('motivation')?.invalid && entryForm.get('motivation')?.touched"
                                        class="text-red-500 text-xs mt-1">志望動機・自己PRを入力してください。</p>
                                </div>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div class="mt-10 text-center">
                            <button type="submit" [disabled]="entryForm.invalid || entrySubmitted"
                                class="inline-flex items-center justify-center w-full sm:w-auto min-w-[240px] bg-gradient-to-r from-amber-500 to-amber-600 text-white px-12 py-4 rounded-full text-base font-bold tracking-wider hover:from-amber-600 hover:to-amber-700 disabled:from-gray-300 disabled:to-gray-400 disabled:text-gray-500 disabled:cursor-not-allowed transition-all duration-300 shadow-xl shadow-amber-500/30 hover:shadow-amber-600/40 hover:-translate-y-0.5 disabled:shadow-none disabled:hover:translate-y-0">
                                <span *ngIf="entrySubmitStatus === 'sending'"
                                    class="inline-block w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></span>
                                {{ entrySubmitStatus === 'sending' ? '送信中...' : 'エントリーする' }}
                            </button>
                        </div>

                    </form>
                </div>
            </div>

            <!-- Close Button -->
            <div class="mt-10 text-center">
                <button (click)="toggleEntryForm()"
                    class="inline-block bg-slate-200 text-slate-700 px-10 py-3 rounded-full text-base font-bold uppercase tracking-wider hover:bg-slate-300 transition duration-300 cursor-pointer">
                    CLOSE
                </button>
            </div>
        </div>
    </section>
</div>